import{r as t,M as e,N as n,l as r,E as a,h as o,y as i,_ as c,b as s,c as l,D as u,X as d,s as f,e as p,T as m,d as v,L as g,w as h,Y as x,C as b,P as y,S as E,i as N,x as C,K as k}from"./index.45b28418.js";var T,w=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n},S=t.exports.createContext(void 0),O=function(i){var c,s=t.exports.useContext(e),l=s.getPrefixCls,u=s.direction,d=i.prefixCls,f=i.size,p=i.className,m=w(i,["prefixCls","size","className"]),v=l("btn-group",d),g="";switch(f){case"large":g="lg";break;case"small":g="sm";break;case"middle":case void 0:break;default:n(!f,"Button.Group","Invalid prop `size`.")}var h=r(v,(a(c={},"".concat(v,"-").concat(g),g),a(c,"".concat(v,"-rtl"),"rtl"===u),c),p);return t.exports.createElement(S.Provider,{value:f},t.exports.createElement("div",o({},m,{className:h})))},P=0,A={};function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=P++,r=e;function a(){(r-=1)<=0?(t(),delete A[n]):A[n]=i(a)}return A[n]=i(a),n}function j(t){return!t||null===t.offsetParent||t.hidden}function L(t){var e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return!(e&&e[1]&&e[2]&&e[3])||!(e[1]===e[2]&&e[2]===e[3])}I.cancel=function(t){void 0!==t&&(i.cancel(A[t]),delete A[t])},I.ids=A;var R=function(e){c(r,e);var n=s(r);function r(){var e;return l(this,r),(e=n.apply(this,arguments)).containerRef=t.exports.createRef(),e.animationStart=!1,e.destroyed=!1,e.onClick=function(t,n){var r,a,o=e.props,i=o.insertExtraNode;if(!(o.disabled||!t||j(t)||t.className.indexOf("-leave")>=0)){e.extraNode=document.createElement("div");var c=u(e).extraNode,s=e.context.getPrefixCls;c.className="".concat(s(""),"-click-animating-node");var l=e.getAttributeName();if(t.setAttribute(l,"true"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&L(n)&&!/rgba\((?:\d*, ){3}0\)/.test(n)&&"transparent"!==n){c.style.borderColor=n;var f=(null===(r=t.getRootNode)||void 0===r?void 0:r.call(t))||t.ownerDocument,p=f instanceof Document?f.body:null!==(a=f.firstChild)&&void 0!==a?a:f;T=d("\n      [".concat(s(""),"-click-animating-without-extra-node='true']::after, .").concat(s(""),"-click-animating-node {\n        --antd-wave-shadow-color: ").concat(n,";\n      }"),"antd-wave",{csp:e.csp,attachTo:p})}i&&t.appendChild(c),["transition","animation"].forEach((function(n){t.addEventListener("".concat(n,"start"),e.onTransitionStart),t.addEventListener("".concat(n,"end"),e.onTransitionEnd)}))}},e.onTransitionStart=function(t){if(!e.destroyed){var n=e.containerRef.current;t&&t.target===n&&!e.animationStart&&e.resetEffect(n)}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName&&!j(n.target)){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout((function(){return e.onClick(t,r)}),0),I.cancel(e.animationStartId),e.animationStart=!0,e.animationStartId=I((function(){e.animationStart=!1}),10)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.renderWave=function(n){var r=n.csp,a=e.props.children;if(e.csp=r,!t.exports.isValidElement(a))return a;var o=e.containerRef;return f(a)&&(o=p(a.ref,e.containerRef)),m(a,{ref:o})},e}return v(r,[{key:"componentDidMount",value:function(){var t=this.containerRef.current;t&&1===t.nodeType&&(this.instance=this.bindAnimationEvent(t))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId),this.destroyed=!0}},{key:"getAttributeName",value:function(){var t=this.context.getPrefixCls,e=this.props.insertExtraNode;return"".concat(t(""),e?"-click-animating":"-click-animating-without-extra-node")}},{key:"resetEffect",value:function(t){var e=this;if(t&&t!==this.extraNode&&t instanceof Element){var n=this.props.insertExtraNode,r=this.getAttributeName();t.setAttribute(r,"false"),T&&(T.innerHTML=""),n&&this.extraNode&&t.contains(this.extraNode)&&t.removeChild(this.extraNode),["transition","animation"].forEach((function(n){t.removeEventListener("".concat(n,"start"),e.onTransitionStart),t.removeEventListener("".concat(n,"end"),e.onTransitionEnd)}))}}},{key:"render",value:function(){return t.exports.createElement(g,null,this.renderWave)}}]),r}(t.exports.Component);R.contextType=e;var _=function(){return{width:0,opacity:0,transform:"scale(0)"}},B=function(t){return{width:t.scrollWidth,opacity:1,transform:"scale(1)"}},W=function(t){var e=t.prefixCls,n=!!t.loading;return t.existIcon?h.createElement("span",{className:"".concat(e,"-loading-icon")},h.createElement(x,null)):h.createElement(b,{visible:n,motionName:"".concat(e,"-loading-icon-motion"),removeOnLeave:!0,onAppearStart:_,onAppearActive:B,onEnterStart:_,onEnterActive:B,onLeaveStart:B,onLeaveActive:_},(function(t,n){var r=t.className,a=t.style;return h.createElement("span",{className:"".concat(e,"-loading-icon"),style:a,ref:n},h.createElement(x,{className:r}))}))},z=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]])}return n},D=/^[\u4e00-\u9fa5]{2}$/,V=D.test.bind(D);function M(t){return"text"===t||"link"===t}function U(e,n){if(null!=e){var r,a=n?" ":"";return"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&V(e.props.children)?m(e,{children:e.props.children.split("").join(a)}):"string"==typeof e?V(e)?t.exports.createElement("span",null,e.split("").join(a)):t.exports.createElement("span",null,e):(r=e,t.exports.isValidElement(r)&&r.type===t.exports.Fragment?t.exports.createElement("span",null,e):e)}}y("default","primary","ghost","dashed","link","text"),y("default","circle","round"),y("submit","button","reset");var G=function(i,c){var s,l=i.loading,u=void 0!==l&&l,d=i.prefixCls,f=i.type,p=void 0===f?"default":f,m=i.danger,v=i.shape,g=void 0===v?"default":v,h=i.size,x=i.className,b=i.children,y=i.icon,T=i.ghost,w=void 0!==T&&T,O=i.block,P=void 0!==O&&O,A=i.htmlType,I=void 0===A?"button":A,j=z(i,["loading","prefixCls","type","danger","shape","size","className","children","icon","ghost","block","htmlType"]),L=t.exports.useContext(E),_=t.exports.useContext(S),B=t.exports.useState(!!u),D=N(B,2),G=D[0],F=D[1],H=t.exports.useState(!1),K=N(H,2),X=K[0],Y=K[1],$=t.exports.useContext(e),q=$.getPrefixCls,J=$.autoInsertSpaceInButton,Q=$.direction,Z=c||t.exports.createRef(),tt=function(){return 1===t.exports.Children.count(b)&&!y&&!M(p)},et="object"===C(u)&&u.delay?u.delay||!0:!!u;t.exports.useEffect((function(){var t=null;return"number"==typeof et?t=window.setTimeout((function(){t=null,F(et)}),et):F(et),function(){t&&(window.clearTimeout(t),t=null)}}),[et]),t.exports.useEffect((function(){if(Z&&Z.current&&!1!==J){var t=Z.current.textContent;tt()&&V(t)?X||Y(!0):X&&Y(!1)}}),[Z]);var nt=function(t){var e=i.onClick,n=i.disabled;G||n?t.preventDefault():null==e||e(t)};n(!("string"==typeof y&&y.length>2),"Button","`icon` is using ReactNode instead of string naming in v4. Please check `".concat(y,"` at https://ant.design/components/icon")),n(!(w&&M(p)),"Button","`link` or `text` button can't be a `ghost` button.");var rt=q("btn",d),at=!1!==J,ot=_||h||L,it=ot&&{large:"lg",small:"sm",middle:void 0}[ot]||"",ct=G?"loading":y,st=r(rt,(a(s={},"".concat(rt,"-").concat(g),"default"!==g&&g),a(s,"".concat(rt,"-").concat(p),p),a(s,"".concat(rt,"-").concat(it),it),a(s,"".concat(rt,"-icon-only"),!b&&0!==b&&!!ct),a(s,"".concat(rt,"-background-ghost"),w&&!M(p)),a(s,"".concat(rt,"-loading"),G),a(s,"".concat(rt,"-two-chinese-chars"),X&&at),a(s,"".concat(rt,"-block"),P),a(s,"".concat(rt,"-dangerous"),!!m),a(s,"".concat(rt,"-rtl"),"rtl"===Q),s),x),lt=y&&!G?y:t.exports.createElement(W,{existIcon:!!y,prefixCls:rt,loading:!!G}),ut=b||0===b?function(e,n){var r=!1,a=[];return t.exports.Children.forEach(e,(function(t){var e=C(t),n="string"===e||"number"===e;if(r&&n){var o=a.length-1,i=a[o];a[o]="".concat(i).concat(t)}else a.push(t);r=n})),t.exports.Children.map(a,(function(t){return U(t,n)}))}(b,tt()&&at):null,dt=k(j,["navigate"]);if(void 0!==dt.href)return t.exports.createElement("a",o({},dt,{className:st,onClick:nt,ref:Z}),lt,ut);var ft=t.exports.createElement("button",o({},j,{type:I,className:st,onClick:nt,ref:Z}),lt,ut);return M(p)?ft:t.exports.createElement(R,{disabled:!!G},ft)},F=t.exports.forwardRef(G);F.displayName="Button",F.Group=O,F.__ANT_BUTTON=!0;var H=F;export{H as B};
